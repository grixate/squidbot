import{c as R,a as i,f as H,t as Fe}from"../chunks/BEu3xU8X.js";import"../chunks/BKxQFQd5.js";import{w as Bt,d as It,o as Ut}from"../chunks/Vc4QFieL.js";import{k as Nt,aT as Vt,aU as Ht,p as xe,l as U,C as Ce,e as Ie,f as D,a as Ae,b as I,g as t,m as ne,c as m,r as h,a5 as C,n as pe,t as Se,s as O,d as dt,u as Jt,h as qt,aY as Qe}from"../chunks/BTMJvSec.js";import{e as b,s as X}from"../chunks/Bcgy8Ni5.js";import{p as _,a as we,s as Ne,l as se,i as Y,b as ie}from"../chunks/CcCxq7f-.js";import{u as Kt,n as ut,o as Gt,w as Yt,m as Je,b as ht,c as ot,k as rt,v as wt,g as xt,x as qe,y as Xe,z as Qt,t as Xt,h as Zt,A as $t,l as oe,j as re,C as P,f as Ke,p as at,r as At,s as ea,B as st,e as Pt,i as Et}from"../chunks/C6q300kx.js";import{b as bt}from"../chunks/l2SKR2qa.js";import{i as Pe}from"../chunks/DlHN4S8Y.js";import{s as ta,t as St,b as aa,o as na,u as la,d as ia,e as oa,f as ra,h as sa,c as ca,r as da,g as Dt,a as mt,i as De,S as Lt}from"../chunks/DWSVT9GM.js";import{s as Z}from"../chunks/Ca1YuPdp.js";import{S as ct}from"../chunks/BNN7y7EJ.js";async function Ft(N){const{prop:e,defaultEl:F}=N;if(await Promise.all([ta(1),Nt]),e===void 0){F?.focus();return}const d=Kt(e)?e(F):e;if(typeof d=="string"){const v=document.querySelector(d);if(!ut(v))return;v.focus()}else ut(d)&&d.focus()}const{name:Ge}=Zt("dialog"),ua={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},va=["content","title","description"];function fa(N){const e={...ua,...N},F=St(Gt(e,"ids")),{preventScroll:d,closeOnEscape:v,closeOnOutsideClick:g,role:z,portal:n,forceVisible:o,openFocus:w,closeFocus:c,onOutsideClick:A}=F,L=Yt.writable(null),k=St({...aa(va),...e.ids}),S=e.open??Bt(e.defaultOpen),y=na(S,e?.onOpenChange),T=It([y,o],([a,s])=>a||s);let p=qe;function f(a){const s=a.currentTarget,r=a.currentTarget;!ut(s)||!ut(r)||(y.set(!0),L.set(r))}function l(){y.set(!1),Ft({prop:c.get(),defaultEl:L.get()})}const u=Je(Ge("trigger"),{stores:[y],returned:([a])=>({"aria-haspopup":"dialog","aria-expanded":a,type:"button"}),action:a=>({destroy:ht(ot(a,"click",r=>{f(r)}),ot(a,"keydown",r=>{r.key!==rt.ENTER&&r.key!==rt.SPACE||(r.preventDefault(),f(r))}))})}),x=Je(Ge("overlay"),{stores:[T,y],returned:([a,s])=>({hidden:a?void 0:!0,tabindex:-1,style:xt({display:a?void 0:"none"}),"aria-hidden":!0,"data-state":s?"open":"closed"}),action:a=>{let s=qe;if(v.get()){const r=wt(a,{handler:()=>{l()}});r&&r.destroy&&(s=r.destroy)}return{destroy(){s()}}}}),Q=Je(Ge("content"),{stores:[T,k.content,k.description,k.title,y],returned:([a,s,r,V,J])=>({id:s,role:z.get(),"aria-describedby":r,"aria-labelledby":V,"aria-modal":a?"true":void 0,"data-state":J?"open":"closed",tabindex:-1,hidden:a?void 0:!0,style:xt({display:a?void 0:"none"})}),action:a=>{let s=qe,r=qe;const V=ht(Xe([y,g,v],([J,te,B])=>{if(!J)return;const ke=ia({immediate:!1,escapeDeactivates:B,clickOutsideDeactivates:te,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:a});s=ke.activate,r=ke.deactivate;const E=ke.useFocusTrap(a);return E&&E.destroy?E.destroy:ke.deactivate}),Xe([g,y],([J,te])=>la(a,{open:te,closeOnInteractOutside:J,onClose(){l()},shouldCloseOnInteractOutside(B){return A.get()?.(B),!B.defaultPrevented}}).destroy),Xe([v],([J])=>J?wt(a,{handler:l}).destroy:qe),Xe([T],([J])=>{Nt().then(()=>{J?s():r()})}));return{destroy:()=>{p(),V()}}}}),ce=Je(Ge("portalled"),{stores:n,returned:a=>({"data-portal":Qt(a)}),action:a=>{const s=Xe([n],([r])=>{if(r===null)return qe;const V=oa(a,r);return V===null?qe:ra(a,V).destroy});return{destroy(){s()}}}}),ye=Je(Ge("title"),{stores:[k.title],returned:([a])=>({id:a})}),ee=Je(Ge("description"),{stores:[k.description],returned:([a])=>({id:a})}),de=Je(Ge("close"),{returned:()=>({type:"button"}),action:a=>({destroy:ht(ot(a,"click",()=>{l()}),ot(a,"keydown",r=>{r.key!==rt.SPACE&&r.key!==rt.ENTER||(r.preventDefault(),l())}))})});return Xe([y,d],([a,s])=>{if(Xt){if(s&&a&&(p=sa()),a){const r=document.getElementById(k.content.get());Ft({prop:w.get(),defaultEl:r})}return()=>{o.get()||p()}}}),{ids:k,elements:{content:Q,trigger:u,title:ye,description:ee,overlay:x,close:de,portalled:ce},states:{open:y},options:F}}function jt(){return{NAME:"alert-dialog",PARTS:["action","cancel","content","description","overlay","portal","title","trigger"]}}function _a(N){const{NAME:e,PARTS:F}=jt(),d=ca(e,F),v=fa({...da(N),role:"alertdialog",forceVisible:!0}),g={...v,getAttrs:d,updateOption:Dt(v.options)};return Vt(e,g),{...g,updateOption:Dt(g.options),getAttrs:d}}function Re(){const{NAME:N}=jt();return Ht(N)}function ga(N,e){xe(e,!1);const F=()=>we(p,"$idValues",d),[d,v]=Ne();let g=_(e,"preventScroll",24,()=>{}),z=_(e,"closeOnEscape",24,()=>{}),n=_(e,"closeOnOutsideClick",8,!1),o=_(e,"portal",24,()=>{}),w=_(e,"open",28,()=>{}),c=_(e,"onOpenChange",24,()=>{}),A=_(e,"openFocus",24,()=>{}),L=_(e,"closeFocus",24,()=>{}),k=_(e,"onOutsideClick",24,()=>{});const{states:{open:S},updateOption:y,ids:T}=_a({closeOnEscape:z(),preventScroll:g(),closeOnOutsideClick:n(),portal:o(),forceVisible:!0,defaultOpen:w(),openFocus:A(),closeFocus:L(),onOutsideClick:k(),onOpenChange:({next:u})=>(w()!==u&&(c()?.(u),w(u)),u)}),p=It([T.content,T.description,T.title],([u,x,Q])=>({content:u,description:x,title:Q}));U(()=>Ce(w()),()=>{w()!==void 0&&S.set(w())}),U(()=>Ce(g()),()=>{y("preventScroll",g())}),U(()=>Ce(z()),()=>{y("closeOnEscape",z())}),U(()=>Ce(n()),()=>{y("closeOnOutsideClick",n())}),U(()=>Ce(o()),()=>{y("portal",o())}),U(()=>Ce(A()),()=>{y("openFocus",A())}),U(()=>Ce(L()),()=>{y("closeFocus",L())}),U(()=>Ce(k()),()=>{y("onOutsideClick",k())}),Ie(),Pe();var f=R(),l=D(f);Z(l,e,"default",{get ids(){return F()}},null),i(N,f),Ae(),v()}function ha(N,e){const F=se(e,["children","$$slots","$$events","$$legacy"]),d=se(F,["level","asChild","id","el"]);xe(e,!1);const v=()=>we(L,"$title",g),[g,z]=Ne(),n=ne();let o=_(e,"level",8,"h2"),w=_(e,"asChild",8,!1),c=_(e,"id",24,()=>{}),A=_(e,"el",28,()=>{});const{elements:{title:L},ids:k,getAttrs:S}=Re(),y=S("title");U(()=>Ce(c()),()=>{c()&&k.title.set(c())}),U(()=>v(),()=>{I(n,v())}),U(()=>t(n),()=>{Object.assign(t(n),y)}),Ie(),Pe();var T=R(),p=D(T);{var f=u=>{var x=R(),Q=D(x);Z(Q,e,"default",{get builder(){return t(n)}},null),i(u,x)},l=u=>{var x=R(),Q=D(x);$t(Q,o,!1,(ce,ye)=>{ie(ce,a=>A(a),()=>A()),oe(ce,a=>t(n).action?.(a)),re(ce,()=>({...t(n),...d}));var ee=R(),de=D(ee);Z(de,e,"default",{get builder(){return t(n)}},null),i(ye,ee)}),i(u,x)};Y(p,u=>{w()?u(f):u(l,!1)})}i(N,T),Ae(),z()}var ba=H("<button><!></button>");function ma(N,e){const F=se(e,["children","$$slots","$$events","$$legacy"]),d=se(F,["asChild","el"]);xe(e,!1);const v=()=>we(c,"$close",g),[g,z]=Ne(),n=ne();let o=_(e,"asChild",8,!1),w=_(e,"el",28,()=>{});const{elements:{close:c},getAttrs:A}=Re(),L=mt(),k=A("action");U(()=>v(),()=>{I(n,v())}),U(()=>t(n),()=>{Object.assign(t(n),k)}),Ie(),Pe();var S=R(),y=D(S);{var T=f=>{var l=R(),u=D(l);Z(u,e,"default",{get builder(){return t(n)}},null),i(f,l)},p=f=>{var l=ba();re(l,()=>({...t(n),type:"button",...d}));var u=m(l);Z(u,e,"default",{get builder(){return t(n)}},null),h(l),ie(l,x=>w(x),()=>w()),oe(l,x=>t(n).action?.(x)),C(()=>b("m-click",l,L)),C(()=>b("m-keydown",l,L)),i(f,l)};Y(y,f=>{o()?f(T):f(p,!1)})}i(N,S),Ae(),z()}var pa=H("<button><!></button>");function ya(N,e){const F=se(e,["children","$$slots","$$events","$$legacy"]),d=se(F,["asChild","el"]);xe(e,!1);const v=()=>we(c,"$close",g),[g,z]=Ne(),n=ne();let o=_(e,"asChild",8,!1),w=_(e,"el",28,()=>{});const{elements:{close:c},getAttrs:A}=Re(),L=mt(),k=A("cancel");U(()=>v(),()=>{I(n,v())}),U(()=>t(n),()=>{Object.assign(t(n),k)}),Ie(),Pe();var S=R(),y=D(S);{var T=f=>{var l=R(),u=D(l);Z(u,e,"default",{get builder(){return t(n)}},null),i(f,l)},p=f=>{var l=pa();re(l,()=>({...t(n),type:"button",...d}));var u=m(l);Z(u,e,"default",{get builder(){return t(n)}},null),h(l),ie(l,x=>w(x),()=>w()),oe(l,x=>t(n).action?.(x)),C(()=>b("m-click",l,L)),C(()=>b("m-keydown",l,L)),i(f,l)};Y(y,f=>{o()?f(T):f(p,!1)})}i(N,S),Ae(),z()}var ka=H("<div><!></div>");function Ca(N,e){const F=se(e,["children","$$slots","$$events","$$legacy"]),d=se(F,["asChild","el"]);xe(e,!1);const v=()=>we(c,"$portalled",g),[g,z]=Ne(),n=ne();let o=_(e,"asChild",8,!1),w=_(e,"el",28,()=>{});const{elements:{portalled:c},getAttrs:A}=Re(),L=A("portal");U(()=>v(),()=>{I(n,v())}),U(()=>t(n),()=>{Object.assign(t(n),L)}),Ie(),Pe();var k=R(),S=D(k);{var y=p=>{var f=R(),l=D(f);Z(l,e,"default",{get builder(){return t(n)}},null),i(p,f)},T=p=>{var f=ka();re(f,()=>({...t(n),...d}));var l=m(f);Z(l,e,"default",{get builder(){return t(n)}},null),h(f),ie(f,u=>w(u),()=>w()),oe(f,u=>t(n).action?.(u)),i(p,f)};Y(S,p=>{o()?p(y):p(T,!1)})}i(N,k),Ae(),z()}var Ta=H("<div><!></div>"),Oa=H("<div><!></div>"),wa=H("<div><!></div>"),xa=H("<div><!></div>"),Aa=H("<div><!></div>");function Pa(N,e){const F=se(e,["children","$$slots","$$events","$$legacy"]),d=se(F,["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","asChild","el"]);xe(e,!1);const v=()=>we(f,"$content",z),g=()=>we(l,"$open",z),[z,n]=Ne(),o=ne();let w=_(e,"transition",24,()=>{}),c=_(e,"transitionConfig",24,()=>{}),A=_(e,"inTransition",24,()=>{}),L=_(e,"inTransitionConfig",24,()=>{}),k=_(e,"outTransition",24,()=>{}),S=_(e,"outTransitionConfig",24,()=>{}),y=_(e,"id",24,()=>{}),T=_(e,"asChild",8,!1),p=_(e,"el",28,()=>{});const{elements:{content:f},states:{open:l},ids:u,getAttrs:x}=Re(),Q=x("content");U(()=>Ce(y()),()=>{y()&&u.content.set(y())}),U(()=>v(),()=>{I(o,v())}),U(()=>t(o),()=>{Object.assign(t(o),Q)}),Ie(),Pe();var ce=R(),ye=D(ce);{var ee=a=>{var s=R(),r=D(s);Z(r,e,"default",{get builder(){return t(o)}},null),i(a,s)},de=a=>{var s=R(),r=D(s);{var V=te=>{var B=Ta();re(B,()=>({...t(o),...d}));var ke=m(B);Z(ke,e,"default",{get builder(){return t(o)}},null),h(B),ie(B,E=>p(E),()=>p()),oe(B,E=>t(o).action?.(E)),C(()=>b("pointerdown",B,function(E){P.call(this,e,E)})),C(()=>b("pointermove",B,function(E){P.call(this,e,E)})),C(()=>b("pointerup",B,function(E){P.call(this,e,E)})),C(()=>b("touchcancel",B,function(E){P.call(this,e,E)})),C(()=>b("touchend",B,function(E){P.call(this,e,E)})),C(()=>b("touchmove",B,function(E){P.call(this,e,E)},void 0,!1)),C(()=>b("touchstart",B,function(E){P.call(this,e,E)},void 0,!1)),De(3,B,w,c),i(te,B)},J=te=>{var B=R(),ke=D(B);{var E=ve=>{var q=Oa();re(q,()=>({...t(o),...d}));var ze=m(q);Z(ze,e,"default",{get builder(){return t(o)}},null),h(q),ie(q,j=>p(j),()=>p()),oe(q,j=>t(o).action?.(j)),C(()=>b("pointerdown",q,function(j){P.call(this,e,j)})),C(()=>b("pointermove",q,function(j){P.call(this,e,j)})),C(()=>b("pointerup",q,function(j){P.call(this,e,j)})),C(()=>b("touchcancel",q,function(j){P.call(this,e,j)})),C(()=>b("touchend",q,function(j){P.call(this,e,j)})),C(()=>b("touchmove",q,function(j){P.call(this,e,j)},void 0,!1)),C(()=>b("touchstart",q,function(j){P.call(this,e,j)},void 0,!1)),De(1,q,A,L),De(2,q,k,S),i(ve,q)},ue=ve=>{var q=R(),ze=D(q);{var j=_e=>{var K=wa();re(K,()=>({...t(o),...d}));var We=m(K);Z(We,e,"default",{get builder(){return t(o)}},null),h(K),ie(K,M=>p(M),()=>p()),oe(K,M=>t(o).action?.(M)),C(()=>b("pointerdown",K,function(M){P.call(this,e,M)})),C(()=>b("pointermove",K,function(M){P.call(this,e,M)})),C(()=>b("pointerup",K,function(M){P.call(this,e,M)})),C(()=>b("touchcancel",K,function(M){P.call(this,e,M)})),C(()=>b("touchend",K,function(M){P.call(this,e,M)})),C(()=>b("touchmove",K,function(M){P.call(this,e,M)},void 0,!1)),C(()=>b("touchstart",K,function(M){P.call(this,e,M)},void 0,!1)),De(1,K,A,L),i(_e,K)},fe=_e=>{var K=R(),We=D(K);{var M=he=>{var G=xa();re(G,()=>({...t(o),...d}));var Le=m(G);Z(Le,e,"default",{get builder(){return t(o)}},null),h(G),ie(G,W=>p(W),()=>p()),oe(G,W=>t(o).action?.(W)),C(()=>b("pointerdown",G,function(W){P.call(this,e,W)})),C(()=>b("pointermove",G,function(W){P.call(this,e,W)})),C(()=>b("pointerup",G,function(W){P.call(this,e,W)})),C(()=>b("touchcancel",G,function(W){P.call(this,e,W)})),C(()=>b("touchend",G,function(W){P.call(this,e,W)})),C(()=>b("touchmove",G,function(W){P.call(this,e,W)},void 0,!1)),C(()=>b("touchstart",G,function(W){P.call(this,e,W)},void 0,!1)),De(2,G,k,S),i(he,G)},ge=he=>{var G=R(),Le=D(G);{var W=Te=>{var ae=Aa();re(ae,()=>({...t(o),...d}));var nt=m(ae);Z(nt,e,"default",{get builder(){return t(o)}},null),h(ae),ie(ae,$=>p($),()=>p()),oe(ae,$=>t(o).action?.($)),C(()=>b("pointerdown",ae,function($){P.call(this,e,$)})),C(()=>b("pointermove",ae,function($){P.call(this,e,$)})),C(()=>b("pointerup",ae,function($){P.call(this,e,$)})),C(()=>b("touchcancel",ae,function($){P.call(this,e,$)})),C(()=>b("touchend",ae,function($){P.call(this,e,$)})),C(()=>b("touchmove",ae,function($){P.call(this,e,$)},void 0,!1)),C(()=>b("touchstart",ae,function($){P.call(this,e,$)},void 0,!1)),i(Te,ae)};Y(Le,Te=>{g()&&Te(W)},!0)}i(he,G)};Y(We,he=>{k()&&g()?he(M):he(ge,!1)},!0)}i(_e,K)};Y(ze,_e=>{A()&&g()?_e(j):_e(fe,!1)},!0)}i(ve,q)};Y(ke,ve=>{A()&&k()&&g()?ve(E):ve(ue,!1)},!0)}i(te,B)};Y(r,te=>{w()&&g()?te(V):te(J,!1)},!0)}i(a,s)};Y(ye,a=>{T()&&g()?a(ee):a(de,!1)})}i(N,ce),Ae(),n()}var Ea=H("<div></div>"),Sa=H("<div></div>"),Da=H("<div></div>"),La=H("<div></div>"),Fa=H("<div></div>");function Ia(N,e){const F=se(e,["children","$$slots","$$events","$$legacy"]),d=se(F,["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","el"]);xe(e,!1);const v=()=>we(p,"$overlay",z),g=()=>we(f,"$open",z),[z,n]=Ne(),o=ne();let w=_(e,"transition",24,()=>{}),c=_(e,"transitionConfig",24,()=>{}),A=_(e,"inTransition",24,()=>{}),L=_(e,"inTransitionConfig",24,()=>{}),k=_(e,"outTransition",24,()=>{}),S=_(e,"outTransitionConfig",24,()=>{}),y=_(e,"asChild",8,!1),T=_(e,"el",28,()=>{});const{elements:{overlay:p},states:{open:f},getAttrs:l}=Re(),u=l("overlay");U(()=>v(),()=>{I(o,v())}),U(()=>t(o),()=>{Object.assign(t(o),u)}),Ie(),Pe();var x=R(),Q=D(x);{var ce=ee=>{var de=R(),a=D(de);Z(a,e,"default",{get builder(){return t(o)}},null),i(ee,de)},ye=ee=>{var de=R(),a=D(de);{var s=V=>{var J=Ea();re(J,()=>({...t(o),...d})),ie(J,te=>T(te),()=>T()),oe(J,te=>t(o).action?.(te)),De(3,J,w,c),i(V,J)},r=V=>{var J=R(),te=D(J);{var B=E=>{var ue=Sa();re(ue,()=>({...t(o),...d})),ie(ue,ve=>T(ve),()=>T()),oe(ue,ve=>t(o).action?.(ve)),De(1,ue,A,L),De(2,ue,k,S),i(E,ue)},ke=E=>{var ue=R(),ve=D(ue);{var q=j=>{var fe=Da();re(fe,()=>({...t(o),...d})),ie(fe,_e=>T(_e),()=>T()),oe(fe,_e=>t(o).action?.(_e)),De(1,fe,A,L),i(j,fe)},ze=j=>{var fe=R(),_e=D(fe);{var K=M=>{var ge=La();re(ge,()=>({...t(o),...d})),ie(ge,he=>T(he),()=>T()),oe(ge,he=>t(o).action?.(he)),De(2,ge,k,S),i(M,ge)},We=M=>{var ge=R(),he=D(ge);{var G=Le=>{var W=Fa();re(W,()=>({...t(o),...d})),ie(W,Te=>T(Te),()=>T()),oe(W,Te=>t(o).action?.(Te)),i(Le,W)};Y(he,Le=>{g()&&Le(G)},!0)}i(M,ge)};Y(_e,M=>{k()&&g()?M(K):M(We,!1)},!0)}i(j,fe)};Y(ve,j=>{A()&&g()?j(q):j(ze,!1)},!0)}i(E,ue)};Y(te,E=>{A()&&k()&&g()?E(B):E(ke,!1)},!0)}i(V,J)};Y(a,V=>{w()&&g()?V(s):V(r,!1)},!0)}i(ee,de)};Y(Q,ee=>{y()&&g()?ee(ce):ee(ye,!1)})}i(N,x),Ae(),n()}var Na=H("<button><!></button>");function ja(N,e){const F=se(e,["children","$$slots","$$events","$$legacy"]),d=se(F,["asChild","el"]);xe(e,!1);const v=()=>we(c,"$trigger",g),[g,z]=Ne(),n=ne();let o=_(e,"asChild",8,!1),w=_(e,"el",28,()=>{});const{elements:{trigger:c},getAttrs:A}=Re(),L=mt(),k=A("trigger");U(()=>v(),()=>{I(n,v())}),U(()=>t(n),()=>{Object.assign(t(n),k)}),Ie(),Pe();var S=R(),y=D(S);{var T=f=>{var l=R(),u=D(l);Z(u,e,"default",{get builder(){return t(n)}},null),i(f,l)},p=f=>{var l=Na();re(l,()=>({...t(n),type:"button",...d}));var u=m(l);Z(u,e,"default",{get builder(){return t(n)}},null),h(l),ie(l,x=>w(x),()=>w()),oe(l,x=>t(n).action?.(x)),C(()=>b("m-click",l,L)),C(()=>b("m-keydown",l,L)),i(f,l)};Y(y,f=>{o()?f(T):f(p,!1)})}i(N,S),Ae(),z()}var Ma=H("<div><!></div>");function Ra(N,e){const F=se(e,["children","$$slots","$$events","$$legacy"]),d=se(F,["asChild","id","el"]);xe(e,!1);const v=()=>we(A,"$description",g),[g,z]=Ne(),n=ne();let o=_(e,"asChild",8,!1),w=_(e,"id",24,()=>{}),c=_(e,"el",28,()=>{});const{elements:{description:A},ids:L,getAttrs:k}=Re(),S=k("description");U(()=>Ce(w()),()=>{w()&&L.description.set(w())}),U(()=>v(),()=>{I(n,v())}),U(()=>t(n),()=>{Object.assign(t(n),S)}),Ie(),Pe();var y=R(),T=D(y);{var p=l=>{var u=R(),x=D(u);Z(x,e,"default",{get builder(){return t(n)}},null),i(l,u)},f=l=>{var u=Ma();re(u,()=>({...t(n),...d}));var x=m(u);Z(x,e,"default",{get builder(){return t(n)}},null),h(u),ie(u,Q=>c(Q),()=>c()),oe(u,Q=>t(n).action?.(Q)),i(l,u)};Y(T,l=>{o()?l(p):l(f,!1)})}i(N,y),Ae(),z()}var za=H('<!> <!> <div class="inline"><!> <!></div>',1),Wa=H("<!> <!>",1),Ba=H("<!> <!>",1);function Ua(N,e){xe(e,!1);let F=_(e,"title",8,"Confirm Action"),d=_(e,"description",8,"Are you sure?"),v=_(e,"actionLabel",8,"Confirm"),g=_(e,"cancelLabel",8,"Cancel"),z=_(e,"triggerLabel",8,"Open"),n=_(e,"triggerClassName",8,""),o=_(e,"onConfirm",8,async()=>{});Pe(),ga(N,{children:(w,c)=>{var A=Ba(),L=D(A);{let S=dt(()=>(Ce(n()),Jt(()=>`ui-button ${n()}`.trim())));ja(L,{get class(){return t(S)},children:(y,T)=>{pe();var p=Fe();Se(()=>X(p,z())),i(y,p)},$$slots:{default:!0}})}var k=O(L,2);Ca(k,{children:(S,y)=>{var T=Wa(),p=D(T);Ia(p,{class:"ui-dialog-overlay"});var f=O(p,2);Pa(f,{class:"ui-dialog-content",children:(l,u)=>{var x=za(),Q=D(x);ha(Q,{children:(a,s)=>{pe();var r=Fe();Se(()=>X(r,F())),i(a,r)},$$slots:{default:!0}});var ce=O(Q,2);Ra(ce,{class:"muted",children:(a,s)=>{pe();var r=Fe();Se(()=>X(r,d())),i(a,r)},$$slots:{default:!0}});var ye=O(ce,2),ee=m(ye);ya(ee,{class:"ui-button ui-button-subtle",children:(a,s)=>{pe();var r=Fe();Se(()=>X(r,g())),i(a,r)},$$slots:{default:!0}});var de=O(ee,2);ma(de,{class:"ui-button",get onclick(){return o()},children:(a,s)=>{pe();var r=Fe();Se(()=>X(r,v())),i(a,r)},$$slots:{default:!0}}),h(ye),i(l,x)},$$slots:{default:!0}}),i(S,T)},$$slots:{default:!0}}),i(w,A)},$$slots:{default:!0}}),Ae()}var Va=H('<p class="muted">Loading…</p>'),Ha=H('<section class="panel task-form"><h3>Automation Policy</h3> <div class="split-grid"><label class="checkbox"><!> <span>Allow AI tasks from chat</span></label> <label class="checkbox"><!> <span>Allow AI tasks from heartbeat</span></label> <label class="checkbox"><!> <span>Allow AI tasks from cron</span></label> <label class="checkbox"><!> <span>Allow AI tasks from subagent</span></label></div> <label for="policy-dedupe">Dedupe Window (seconds)</label> <input id="policy-dedupe" name="policy_dedupe_window_sec" type="number" min="60"/> <label for="policy-default-column">Default AI Column</label> <!> <!></section>'),Ja=H("<p> </p>"),qa=H('<article class="task-card" draggable="true"><h4> </h4> <!> <div class="task-meta"><span> </span> <span> </span></div> <div class="task-actions"><!> <!> <!></div></article>'),Ka=H('<article class="panel kanban-col"><header><h3> </h3> <p class="muted"> </p></header> <div class="kanban-list"></div></article>'),Ga=H('<div class="stat-grid"><article class="panel stat-card"><h3>Agent State</h3> <p class="stat-value"> </p> <p class="muted"> </p></article> <article class="panel stat-card"><h3>Active Work</h3> <p class="stat-value"> </p> <p class="muted"> </p></article> <article class="panel stat-card"><h3>Open Tasks</h3> <p class="stat-value"> </p> <p class="muted"> </p></article> <article class="panel stat-card"><h3>Token Usage</h3> <p class="stat-value"> </p> <p class="muted"> </p></article></div> <section class="panel task-form"><h3>Add Task to Backlog</h3> <label for="task-title">Title</label> <input id="task-title" name="task_title" type="text" autocomplete="off"/> <label for="task-desc">Description</label> <textarea id="task-desc" name="task_description"></textarea> <label for="task-priority">Priority</label> <!> <!></section> <!> <section class="kanban"></section>',1),Ya=H('<p class="error" aria-live="polite"> </p>'),Qa=H('<section><header class="page-header"><p class="kicker">Dashboard</p> <h2>Mission Control</h2> <p class="muted">Live state, usage, and board operations.</p></header> <!> <!></section>');function dn(N,e){xe(e,!1);let F=ne(!0),d=ne(""),v=ne(null),g=ne([]),z=[],n=ne(""),o=ne(""),w=ne(""),c=ne(null),A=ne("");const L=[{value:"",label:"None"},{value:"critical",label:"Critical"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}],k=async()=>{I(F,!0),I(d,"");try{const[a,s,r]=await Promise.all([Ke("/api/manage/overview"),Ke("/api/manage/kanban"),Ke("/api/manage/kanban/policy")]);I(v,a),I(g,s.columns||[]),z=s.tasks||[],I(c,r.policy)}catch(a){I(d,at(a))}finally{I(F,!1)}},S=a=>z.filter(s=>s.column_id===a).sort((s,r)=>s.position-r.position);async function y(){if(!t(n).trim()){I(d,"Task title is required.");return}I(d,"");try{await Ke("/api/manage/kanban/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t(n),description:t(o),priority:t(w),columnId:"backlog",source:{type:"manual"},dedupe:!1})}),I(n,""),I(o,""),I(w,""),await k()}catch(a){I(d,at(a))}}async function T(a,s,r){try{await Ke(`/api/manage/kanban/tasks/${a}/move`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({columnId:s,position:r})}),await k()}catch(V){I(d,at(V))}}async function p(a){try{await Ke(`/api/manage/kanban/tasks/${a}`,{method:"DELETE"}),await k()}catch(s){I(d,at(s))}}async function f(){if(t(c)){I(d,"");try{const a=await Ke("/api/manage/kanban/policy",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enableChat:t(c).enable_chat,enableHeartbeat:t(c).enable_heartbeat,enableCron:t(c).enable_cron,enableSubagent:t(c).enable_subagent,dedupeWindowSec:t(c).dedupe_window_sec,defaultColumnId:t(c).default_column_id})});I(c,a.policy)}catch(a){I(d,at(a))}}}const l=a=>t(g).findIndex(s=>s.id===a);async function u(a,s){const r=l(a.column_id);if(r<0)return;const V=r+s;V<0||V>=t(g).length||await T(a.id,t(g)[V].id,S(t(g)[V].id).length)}Ut(async()=>{await k()}),Pe();var x=Qa(),Q=O(m(x),2);{var ce=a=>{var s=Va();i(a,s)},ye=a=>{var s=Ga(),r=D(s),V=m(r),J=O(m(V),2),te=m(J,!0);h(J);var B=O(J,2),ke=m(B,!0);h(B),h(V);var E=O(V,2),ue=O(m(E),2),ve=m(ue,!0);h(ue);var q=O(ue,2),ze=m(q);h(q),h(E);var j=O(E,2),fe=O(m(j),2),_e=m(fe,!0);h(fe);var K=O(fe,2),We=m(K);h(K),h(j);var M=O(j,2),ge=O(m(M),2),he=m(ge,!0);h(ge);var G=O(ge,2),Le=m(G);h(G),h(M),h(r);var W=O(r,2),Te=O(m(W),4);At(Te);var ae=O(Te,4);qt(ae),ea(ae,"rows",2);var nt=O(ae,4);Lt(nt,{id:"task-priority",name:"task_priority",get options(){return L},ariaLabel:"Task priority",placeholder:"Select priority…",get value(){return t(w)},set value(be){I(w,be)},$$legacy:!0});var $=O(nt,2);st($,{type:"button",onclick:y,children:(be,Ee)=>{pe();var Oe=Fe("Create Task");i(be,Oe)},$$slots:{default:!0}}),h(W);var pt=O(W,2);{var Mt=be=>{var Ee=Ha(),Oe=O(m(Ee),2),Be=m(Oe),Ze=m(Be);ct(Ze,{ariaLabel:"Enable chat task creation",get checked(){return t(c).enable_chat},set checked(le){Qe(c,t(c).enable_chat=le)},$$legacy:!0}),pe(2),h(Be);var $e=O(Be,2),lt=m($e);ct(lt,{ariaLabel:"Enable heartbeat task creation",get checked(){return t(c).enable_heartbeat},set checked(le){Qe(c,t(c).enable_heartbeat=le)},$$legacy:!0}),pe(2),h($e);var et=O($e,2),it=m(et);ct(it,{ariaLabel:"Enable cron task creation",get checked(){return t(c).enable_cron},set checked(le){Qe(c,t(c).enable_cron=le)},$$legacy:!0}),pe(2),h(et);var je=O(et,2),me=m(je);ct(me,{ariaLabel:"Enable subagent task creation",get checked(){return t(c).enable_subagent},set checked(le){Qe(c,t(c).enable_subagent=le)},$$legacy:!0}),pe(2),h(je),h(Oe);var Me=O(Oe,4);At(Me);var Ye=O(Me,4);{let le=dt(()=>t(g).map(Ue=>({value:Ue.id,label:Ue.label})));Lt(Ye,{id:"policy-default-column",name:"policy_default_column",get options(){return t(le)},ariaLabel:"Default AI column",placeholder:"Select column…",get value(){return t(c).default_column_id},set value(Ue){Qe(c,t(c).default_column_id=Ue)},$$legacy:!0})}var vt=O(Ye,2);st(vt,{type:"button",onclick:f,children:(le,Ue)=>{pe();var tt=Fe("Save Policy");i(le,tt)},$$slots:{default:!0}}),h(Ee),bt(Me,()=>t(c).dedupe_window_sec,le=>Qe(c,t(c).dedupe_window_sec=le)),i(be,Ee)};Y(pt,be=>{t(c)&&be(Mt)})}var yt=O(pt,2);Pt(yt,5,()=>t(g),Et,(be,Ee)=>{var Oe=Ka(),Be=m(Oe),Ze=m(Be),$e=m(Ze,!0);h(Ze);var lt=O(Ze,2),et=m(lt);h(lt),h(Be);var it=O(Be,2);Pt(it,5,()=>S(t(Ee).id),Et,(je,me)=>{var Me=qa(),Ye=m(Me),vt=m(Ye,!0);h(Ye);var le=O(Ye,2);{var Ue=Ve=>{var He=Ja(),_t=m(He,!0);h(He),Se(()=>X(_t,t(me).description)),i(Ve,He)};Y(le,Ve=>{t(me).description&&Ve(Ue)})}var tt=O(le,2),ft=m(tt),Rt=m(ft,!0);h(ft);var kt=O(ft,2),zt=m(kt,!0);h(kt),h(tt);var Ct=O(tt,2),Tt=m(Ct);{let Ve=dt(()=>l(t(me).column_id)<=0);st(Tt,{type:"button",ariaLabel:"Move task left",get disabled(){return t(Ve)},onclick:()=>u(t(me),-1),children:(He,_t)=>{pe();var gt=Fe("<-");i(He,gt)},$$slots:{default:!0}})}var Ot=O(Tt,2);{let Ve=dt(()=>l(t(me).column_id)>=t(g).length-1);st(Ot,{type:"button",ariaLabel:"Move task right",get disabled(){return t(Ve)},onclick:()=>u(t(me),1),children:(He,_t)=>{pe();var gt=Fe("->");i(He,gt)},$$slots:{default:!0}})}var Wt=O(Ot,2);Ua(Wt,{triggerLabel:"Delete",triggerClassName:"ui-button-danger",title:"Delete task?",description:"This action cannot be undone.",actionLabel:"Delete",onConfirm:()=>p(t(me).id)}),h(Ct),h(Me),Se(()=>{X(vt,t(me).title),X(Rt,t(me).priority||"no priority"),X(zt,t(me).source?.type||"unknown source")}),b("dragstart",Me,()=>{I(A,t(me).id)}),i(je,Me)}),h(it),h(Oe),Se(je=>{X($e,t(Ee).label),X(et,`${je??""} task(s)`)},[()=>S(t(Ee).id).length]),b("dragover",Oe,je=>je.preventDefault()),b("drop",Oe,async()=>{t(A)&&(await T(t(A),t(Ee).id,S(t(Ee).id).length),I(A,""))}),i(be,Oe)}),h(yt),Se(()=>{X(te,t(v)?.agentState||"offline"),X(ke,t(v)?.runtimeOnline?"Runtime online":"Runtime offline"),X(ve,t(v)?.activeTurns??0),X(ze,`${t(v)?.activeActors??0??""} active actors`),X(_e,t(v)?.openTasks??0),X(We,`${t(v)?.overdue??0??""} overdue / ${t(v)?.dueSoon??0??""} due soon`),X(he,t(v)?.tokenToday?.total_tokens??0),X(Le,`Today / Week: ${t(v)?.tokenWeek?.total_tokens??0??""}`)}),bt(Te,()=>t(n),be=>I(n,be)),bt(ae,()=>t(o),be=>I(o,be)),i(a,s)};Y(Q,a=>{t(F)?a(ce):a(ye,!1)})}var ee=O(Q,2);{var de=a=>{var s=Ya(),r=m(s,!0);h(s),Se(()=>X(r,t(d))),i(a,s)};Y(ee,a=>{t(d)&&a(de)})}h(x),i(N,x),Ae()}export{dn as component};
