import{c as U,a as l,t as V,f}from"../chunks/YeIyPrO1.js";import"../chunks/JjcR20PN.js";import{o as W}from"../chunks/7XJTIz-S.js";import{p as X,f as P,a as Y,g as e,b as u,m as T,s as c,c as n,r,n as Z,t as B}from"../chunks/B28Y1LK0.js";import{s as g}from"../chunks/DrRmIrL_.js";import{i as A}from"../chunks/CSigMgDx.js";import{f as H,p as L,e as aa,i as sa}from"../chunks/BSTHbYmA.js";import{s as ta}from"../chunks/ChJqAeZL.js";import{B as ea,s as N,a as ra}from"../chunks/CTMhrdmY.js";import{i as oa}from"../chunks/B5oQgd4i.js";import{s as ia,a as na}from"../chunks/C4N5p73Q.js";import{s as la,g as _}from"../chunks/DopsYc3A.js";const ca=()=>{const o=la;return{page:{subscribe:o.page.subscribe},navigating:{subscribe:o.navigating.subscribe},updated:o.updated}},pa={subscribe(o){return ca().page.subscribe(o)}};var ma=f('<main class="loading-shell"><p class="kicker">Mission Control</p> <p class="muted">Loading session...</p></main>'),ua=f('<a><span aria-hidden="true"> </span> <span> </span></a>'),fa=f('<p class="error" aria-live="polite"> </p>'),va=f('<a class="skip-link" href="#main-content">Skip to Main Content</a> <div class="shell"><aside class="sidebar"><div class="sidebar-header"><p class="kicker">Squidbot</p> <h1>Mission Control</h1></div> <nav aria-label="Primary"></nav> <!> <!></aside> <main id="main-content" class="content"><!></main></div>',1);function Ca(o,v){X(v,!1);const y=()=>na(pa,"$page",O),[O,q]=ia();let k=T(!0),p=T("");const E=[{href:"/app/mission-control",label:"Mission Control",icon:"MC"},{href:"/app/team-peers",label:"Team/Peers",icon:"TP"},{href:"/app/heartbeat",label:"Heartbeat",icon:"HB"},{href:"/app/memory",label:"Memory",icon:"MM"},{href:"/app/analytics",label:"Analytics",icon:"AN"},{href:"/app/settings",label:"Settings",icon:"ST"}];async function I(){try{const a=await H("/api/auth/session");if(!a.setupComplete){await _("/");return}if(!a.authenticated){await _("/");return}u(p,"")}catch(a){u(p,L(a))}finally{u(k,!1)}}async function J(){try{await H("/api/auth/logout",{method:"POST"}),await _("/")}catch(a){u(p,L(a))}}W(async()=>{await I()}),oa();var x=U(),j=P(x);{var z=a=>{var m=ma();l(a,m)},D=a=>{var m=va(),M=c(P(m),2),d=n(M),h=c(n(d),2);aa(h,5,()=>E,sa,(i,s)=>{var t=ua();let w;var b=n(t),Q=n(b,!0);r(b);var C=c(b,2),R=n(C,!0);r(C),r(t),B(()=>{N(t,"href",e(s).href),N(t,"aria-current",y().url.pathname===e(s).href?"page":void 0),w=ra(t,1,"",null,w,{active:y().url.pathname===e(s).href}),g(Q,e(s).icon),g(R,e(s).label)}),l(i,t)}),r(h);var S=c(h,2);ea(S,{type:"button",class:"logout",onclick:J,children:(i,s)=>{Z();var t=V("Logout");l(i,t)},$$slots:{default:!0}});var F=c(S,2);{var G=i=>{var s=fa(),t=n(s,!0);r(s),B(()=>g(t,e(p))),l(i,s)};A(F,i=>{e(p)&&i(G)})}r(d);var $=c(d,2),K=n($);ta(K,v,"default",{}),r($),r(M),l(a,m)};A(j,a=>{e(k)?a(z):a(D,!1)})}l(o,x),Y(),q()}export{Ca as component};
