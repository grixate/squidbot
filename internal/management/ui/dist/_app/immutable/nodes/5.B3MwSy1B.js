import{c as z,a as _,f as M,t as be}from"../chunks/BEu3xU8X.js";import"../chunks/BKxQFQd5.js";import{d as jt,w as _e,o as lr}from"../chunks/Vc4QFieL.js";import{aT as ze,aU as Ne,p as et,l as L,b as w,C as Q,g as r,e as ut,f as H,a as rt,m as O,c as p,r as m,aZ as Zt,d as Yt,s as y,u as ar,n as ft,t as xt,aX as Pe,a_ as Re}from"../chunks/BTMJvSec.js";import{s as B}from"../chunks/Bcgy8Ni5.js";import{l as W,p as X,i as Z,a as ot,s as st,b as bt,c as Kt}from"../chunks/CcCxq7f-.js";import{x as It,D as or,w as Y,m as St,g as wt,y as Lt,E as tt,b as Rt,c as kt,n as Pt,o as sr,h as ir,j as ht,l as gt,f as Vt,p as Le,B as he,e as qt,i as Jt,r as ge}from"../chunks/C6q300kx.js";import{b as me}from"../chunks/l2SKR2qa.js";import{i as nt}from"../chunks/DlHN4S8Y.js";import{j as cr,k as dr,t as Oe,b as ur,c as vr,r as fr,g as br,S as De}from"../chunks/DWSVT9GM.js";import{s as I}from"../chunks/Ca1YuPdp.js";import{f as pe}from"../chunks/oGKLGfrS.js";function hr(n,t,a){return Math.max(n,Math.min(t,a))}function ke(n,t){let a=0;return or(()=>{clearTimeout(a)}),()=>{window.clearTimeout(a),a=window.setTimeout(n,t)}}function ye(n,t){let a=0;const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(a),s.unobserve(n)}}function gr(n,t=It){let a={left:n.scrollLeft,top:n.scrollTop},s=0;return(function d(){const f={left:n.scrollLeft,top:n.scrollTop},u=a.left!==f.left,o=a.top!==f.top;(u||o)&&t(),a=f,s=window.requestAnimationFrame(d)})(),()=>window.cancelAnimationFrame(s)}function He(n,t){return n>0&&n<t}function Ye(n,t){return a=>{if(n[0]===n[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(n[1]-n[0]);return t[0]+s*(a-n[0])}}function Gt(n){return n?parseInt(n,10):0}function Xe(n,t){const a=n/t;return isNaN(a)?0:a}function Qt(n){const t=Xe(n.viewport,n.content),a=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,s=(n.scrollbar.size-a)*t;return Math.max(s,18)}function mr(n,t,a,s="ltr"){const d=Qt(a),f=d/2,u=t||f,o=d-u,e=a.scrollbar.paddingStart+u,i=a.scrollbar.size-a.scrollbar.paddingEnd-o,l=a.content-a.viewport,v=s==="ltr"?[0,l]:[l*-1,0];return Ye([e,i],v)(n)}function pr(n,t,a="ltr"){const s=Qt(t),d=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,f=t.scrollbar.size-d,u=t.content-t.viewport,o=f-s,[e,i]=a==="ltr"?[0,u]:[u*-1,0],l=hr(e,n,i);return Ye([0,u],[0,o])(l)}function _r(n,t){const a=Y.writable(n);function s(f){const u=a.get();return t[u][f]??u}return{state:a,dispatch:f=>{a.set(s(f))}}}function Xt(n){const{rootState:t,scrollbarState:a}=n;a.isVisible.set(!0);function s(i){const l=a.domRect.get();if(!l)return;const v=i.clientX-l.left,g=i.clientY-l.top;a.isHorizontal.get()?a.onDragScroll(v):a.onDragScroll(g)}function d(i){if(i.button!==0)return;const l=i.target;if(!Pt(l))return;l.setPointerCapture(i.pointerId);const v=i.currentTarget;if(!Pt(v))return;a.domRect.set(v.getBoundingClientRect()),a.prevWebkitUserSelect.set(document.body.style.webkitUserSelect),document.body.style.webkitUserSelect="none";const g=t.viewportEl.get();g&&(g.style.scrollBehavior="auto"),s(i)}function f(i){s(i)}function u(i){const l=i.target;if(!Pt(l))return;l.hasPointerCapture(i.pointerId)&&l.releasePointerCapture(i.pointerId),document.body.style.webkitUserSelect=a.prevWebkitUserSelect.get();const v=t.viewportEl.get();v&&(v.style.scrollBehavior=""),a.domRect.set(null)}function o(i){const l=i.target,v=i.currentTarget;if(!Pt(l)||!Pt(v)||!v.contains(l))return;const b=a.sizes.get();if(!b)return;const S=b.content-b.viewport;a.handleWheelScroll(i,S)}function e(i){a.scrollbarEl.set(i);const l=Rt(kt(i,"pointerdown",d),kt(i,"pointermove",f),kt(i,"pointerup",u),tt(document,"wheel",o,{passive:!1})),v=Lt([t.contentEl],([g])=>g?ye(g,a.handleSizeChange):It);return{destroy(){l(),v()}}}return e}function yr(n){const t=Xt(n),{rootState:a,scrollbarState:s}=n,d=ke(()=>{const u=a.viewportEl.get();if(!u)return;const o=u.offsetWidth<u.scrollWidth,e=u.offsetHeight<u.scrollHeight;s.isVisible.set(s.isHorizontal.get()?o:e)},10);function f(u){const o=t(u)?.destroy;d();const e=[],i=a.viewportEl.get();i&&e.push(ye(i,d));const l=a.contentEl.get();return l&&e.push(ye(l,d)),{destroy(){e.forEach(v=>v()),o()}}}return f}function Sr(n){const t=Xt(n),{rootState:a,scrollbarState:s}=n;s.isVisible.set(!1);let d;function f(){if(window.clearTimeout(d),s.isVisible.get())return;const e=a.viewportEl.get();if(!e)return;const i=e.offsetWidth<e.scrollWidth,l=e.offsetHeight<e.scrollHeight;s.isVisible.set(s.isHorizontal.get()?i:l)}function u(){d=window.setTimeout(()=>{s.isVisible.get()&&s.isVisible.set(!1)},a.options.hideDelay.get())}function o(e){const i=t(e)?.destroy,l=e.closest("[data-melt-scroll-area]");let v=It;return l&&(cr()?v=Rt(tt(l,"touchstart",f),tt(l,"touchend",u)):dr()?v=Rt(tt(l,"pointerenter",f),tt(l,"mouseenter",f),tt(l,"mouseleave",u)):v=Rt(tt(l,"pointerenter",f),tt(l,"pointerleave",u))),{destroy(){i?.(),v()}}}return o}function wr(n){const t=Xt(n),{rootState:a,scrollbarState:s}=n,d=_r("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});Lt([d.state],([o])=>{o==="idle"&&window.setTimeout(()=>{d.dispatch("HIDE")},a.options.hideDelay.get()),o==="hidden"?s.isVisible.set(!1):s.isVisible.set(!0)});const f=ke(()=>d.dispatch("SCROLL_END"),100);Lt([a.viewportEl,s.isHorizontal],([o,e])=>{const i=e?"scrollLeft":"scrollTop";let l=It;if(o){let v=o[i];l=tt(o,"scroll",()=>{const b=o[i];v!==b&&(d.dispatch("SCROLL"),f()),v=b})}return()=>{l()}});function u(o){const e=t(o)?.destroy,i=Rt(tt(o,"pointerenter",()=>d.dispatch("POINTER_ENTER")),tt(o,"pointerleave",()=>d.dispatch("POINTER_LEAVE")));return{destroy(){e?.(),i()}}}return u}function $r(n,t){const a=t(n),{rootState:s,scrollbarState:d}=n;return St($t("scrollbar"),{stores:[d.sizes,s.options.dir,d.isVisible],returned:([f,u,o])=>({style:wt({position:"absolute",bottom:0,left:u==="rtl"?"var(--melt-scroll-area-corner-width)":0,right:u==="ltr"?"var(--melt-scroll-area-corner-width)":0,"--melt-scroll-area-thumb-width":`${Qt(f)}px`,visibility:o?void 0:"hidden"}),"data-state":o?"visible":"hidden"}),action:f=>{const u=a(f)?.destroy;return s.scrollbarXEl.set(f),s.scrollbarXEnabled.set(!0),{destroy(){u?.(),s.scrollbarXEl.set(null)}}}})}function Er(n,t){const a=t(n),{rootState:s,scrollbarState:d}=n;return St($t("scrollbar"),{stores:[d.sizes,s.options.dir,d.isVisible],returned:([f,u,o])=>({style:wt({position:"absolute",top:0,right:u==="ltr"?0:void 0,left:u==="rtl"?0:void 0,bottom:"var(--melt-scroll-area-corner-height)","--melt-scroll-area-thumb-height":`${Qt(f)}px`,visibility:o?void 0:"hidden"}),"data-state":o?"visible":"hidden"}),action:f=>{const u=a(f)?.destroy;return s.scrollbarYEl.set(f),s.scrollbarYEnabled.set(!0),{destroy(){u?.(),s.scrollbarYEl.set(null)}}}})}function Ar(n){switch(n){case"always":return Xt;case"auto":return yr;case"hover":return Sr;case"scroll":return wr;default:return Xt}}const{name:$t}=ir("scroll-area"),Cr=["root","viewport","content","scrollbarX","scrollbarY","thumbX","thumbY"],Tr={type:"hover",hideDelay:600,dir:"ltr"};function xr(n){const t={...Tr,...n},a=Oe(sr(t,"ids")),s=Y.writable(0),d=Y.writable(0),f=Y.writable(!1),u=Y.writable(!1),o=Y.writable(null),e=Y.writable(null),i=Y.writable(null),l=Y.writable(null),v=Y.writable(null),g=Oe({...ur(Cr),...t.ids}),b={cornerWidth:s,cornerHeight:d,scrollbarXEnabled:f,scrollbarYEnabled:u,viewportEl:e,contentEl:i,options:a,scrollbarXEl:l,scrollbarYEl:v,scrollAreaEl:o,ids:g},S=St($t(),{stores:[s,d,g.root],returned:([D,k,V])=>({style:wt({position:"relative","--melt-scroll-area-corner-width":`${D}px`,"--melt-scroll-area-corner-height":`${k}px`}),id:V}),action:D=>(o.set(D),{destroy(){o.set(null)}})}),T=St($t("viewport"),{stores:[f,u,g.viewport],returned:([D,k,V])=>({style:wt({"scrollbar-width":"none","-ms-overflow-style":"none","-webkit-overflow-scrolling":"touch","-webkit-scrollbar":"none","overflow-x":D?"scroll":"hidden","overflow-y":k?"scroll":"hidden"}),id:V}),action:D=>{const k=document.createElement("style");return k.innerHTML=`
				/* Hide scrollbars cross-browser and enable momentum scroll for touch
					devices */
				[data-melt-scroll-area-viewport] {
					scrollbar-width: none;
					-ms-overflow-style: none;
					-webkit-overflow-scrolling: touch;
				}

				[data-melt-scroll-area-viewport]::-webkit-scrollbar {
					display: none;
				}
			`,D.parentElement?.insertBefore(k,D),e.set(D),{destroy(){k.remove(),e.set(null)}}}}),R=St($t("content"),{stores:[g.content],returned:([D])=>({style:wt({"min-width":"100%",display:"table"}),id:D}),action:D=>(i.set(D),{destroy(){i.set(null)}})});function x(D="vertical"){const k=Y.writable(D),V=Y.writable(D==="horizontal"),mt=Y.writable(null),A=Y.writable(""),N=Y.writable(0),G=Y.writable(null),vt=Y.writable(0),Ot=Y.writable(null),pt=Y.writable({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),Mt=Y.writable(!1),Wt=Y.derived(pt,P=>{const U=Xe(P.viewport,P.content);return U>0&&U<1});function Bt(P,U){return mr(P,N.get(),pt.get(),U)}function Dt(P,U){const q=e.get();if(q)if(V.get()){const lt=q.scrollLeft+P.deltaY;q.scrollLeft=lt,He(lt,U)&&P.preventDefault()}else{const lt=q.scrollTop+P.deltaY;q.scrollTop=lt,He(lt,U)&&P.preventDefault()}}function Ht(P){V.get()?N.set(P.x):N.set(P.y)}function Ut(){N.set(0)}function ee(){const P=e.get(),U=G.get();if(!P||!U)return;const q=V.get()?P.scrollLeft:P.scrollTop,lt=pr(q,pt.get(),b.options.dir.get());vt.set(lt)}function zt(P){const U=e.get();U&&(V.get()?U.scrollLeft=Bt(P,b.options.dir.get()):U.scrollTop=Bt(P))}function Ft(){const P=_t.scrollbarEl.get();if(!P)return;const U=_t.isHorizontal.get(),q=b.viewportEl.get();U?_t.sizes.set({content:q?.scrollWidth??0,viewport:q?.offsetWidth??0,scrollbar:{size:P.clientWidth??0,paddingStart:Gt(getComputedStyle(P).paddingLeft),paddingEnd:Gt(getComputedStyle(P).paddingRight)}}):_t.sizes.set({content:q?.scrollHeight??0,viewport:q?.offsetHeight??0,scrollbar:{size:P.clientHeight??0,paddingStart:Gt(getComputedStyle(P).paddingLeft),paddingEnd:Gt(getComputedStyle(P).paddingRight)}})}const _t={isHorizontal:V,domRect:mt,prevWebkitUserSelect:A,pointerOffset:N,thumbEl:G,thumbOffset:vt,sizes:pt,orientation:k,handleThumbDown:Ht,handleThumbUp:Ut,onThumbPositionChange:ee,onDragScroll:zt,handleWheelScroll:Dt,hasThumb:Wt,scrollbarEl:Ot,isVisible:Mt,handleSizeChange:Ft},Ct=Ar(a.type.get()),Tt={rootState:b,scrollbarState:_t},re=D==="horizontal"?$r(Tt,Ct):Er(Tt,Ct),Nt=Pr(Tt);return{scrollbar:re,thumb:Nt}}const{scrollbar:h,thumb:c}=x("horizontal"),{scrollbar:C,thumb:$}=x("vertical"),At=Rr(b);return{options:a,elements:{root:S,viewport:T,content:R,corner:At,scrollbarX:h,scrollbarY:C,thumbX:c,thumbY:$}}}function Pr(n){const{scrollbarState:t,rootState:a}=n;function s(e){const i=e.target;if(!Pt(i))return;const l=i.getBoundingClientRect(),v=e.clientX-l.left,g=e.clientY-l.top;t.handleThumbDown({x:v,y:g})}function d(e){t.handleThumbUp(e)}let f;function u(){if(f)return;const e=a.viewportEl.get();e&&(f=gr(e,t.onThumbPositionChange)),t.onThumbPositionChange()}return St($t("thumb"),{stores:[t.hasThumb,t.isHorizontal,t.thumbOffset],returned:([e,i,l])=>({style:wt({width:"var(--melt-scroll-area-thumb-width)",height:"var(--melt-scroll-area-thumb-height)",transform:i?`translate3d(${Math.round(l)}px, 0, 0)`:`translate3d(0, ${Math.round(l)}px, 0)`}),"data-state":e?"visible":"hidden"}),action:e=>{t.thumbEl.set(e);const i=Lt([t.sizes],([v])=>{const g=a.viewportEl.get();return g?(t.onThumbPositionChange(),tt(g,"scroll",u)):It}),l=Rt(kt(e,"pointerdown",s),kt(e,"pointerup",d));return{destroy(){f?.(),l(),i()}}}})}function Rr(n){const t=_e(0),a=_e(0),s=jt([t,a],([l,v])=>!!l&&!!v);function d(){const l=n.scrollbarXEl.get()?.offsetHeight||0;n.cornerHeight.set(l),a.set(l)}function f(){const l=n.scrollbarYEl.get()?.offsetWidth||0;n.cornerWidth.set(l),t.set(l)}Lt([n.scrollbarXEl],([l])=>{l&&d()}),Lt([n.scrollbarYEl],([l])=>{l&&f()});const u=jt([n.scrollbarXEl,n.scrollbarYEl],([l,v])=>!!l&&!!v),o=jt([n.options.type,u],([l,v])=>l!=="scroll"&&v),e=jt([o,s],([l,v])=>l&&v);return St($t("corner"),{stores:[t,a,n.options.dir,e],returned:([l,v,g,b])=>({style:wt({display:b?"block":"none",width:`${l}px`,height:`${v}px`,position:"absolute",right:g==="ltr"?0:void 0,left:g==="rtl"?0:void 0,bottom:0})})})}function Lr(n){return Object.keys(n).reduce((t,a)=>n[a]===void 0?t:`${t}${a}:${n[a]};`,"")}function te(){return{NAME:"scroll-area",PARTS:["scrollbar-x","scrollbar-y","thumb-x","thumb-y","viewport","content","root","corner"],SCROLLBAR_NAME:"scrollbar"}}function Or(n){const{NAME:t,PARTS:a}=te(),s=vr(t,a),d={...xr(fr(n)),getAttrs:s};return ze(t,d),{...d,updateOption:br(d.options)}}function Et(){const{NAME:n}=te();return Ne(n)}function Dr(n){const{SCROLLBAR_NAME:t}=te();return ze(t,n)}function Hr(){const{SCROLLBAR_NAME:n}=te();return Ne(n)}var zr=M("<div><!></div>");function Nr(n,t){const a=W(t,["children","$$slots","$$events","$$legacy"]),s=W(a,["type","dir","hideDelay","asChild","el"]);et(t,!1);const d=()=>ot(S,"$root",f),[f,u]=st(),o=O(),e=O();let i=X(t,"type",8,"hover"),l=X(t,"dir",8,"ltr"),v=X(t,"hideDelay",8,600),g=X(t,"asChild",8,!1),b=X(t,"el",28,()=>{});const{elements:{root:S},updateOption:T,getAttrs:R}=Or({type:i(),dir:l(),hideDelay:v()}),x=R("root"),h=Lr({overflow:"hidden"});L(()=>d(),()=>{w(o,d())}),L(()=>Q(i()),()=>{T("type",i())}),L(()=>Q(l()),()=>{T("dir",l())}),L(()=>Q(v()),()=>{T("hideDelay",v())}),L(()=>Q(s),()=>{w(e,{...s,...x,style:h})}),L(()=>(r(o),r(e)),()=>{Object.assign(r(o),r(e))}),ut(),nt();var c=z(),C=H(c);{var $=D=>{var k=z(),V=H(k);I(V,t,"default",{get builder(){return r(o)}},null),_(D,k)},At=D=>{var k=zr();ht(k,()=>({...r(o),...r(e)}));var V=p(k);I(V,t,"default",{get builder(){return r(o)}},null),m(k),bt(k,mt=>b(mt),()=>b()),gt(k,mt=>r(o).action?.(mt)),_(D,k)};Z(C,D=>{g()?D($):D(At,!1)})}_(n,c),rt(),u()}var kr=M("<div><!></div>");function Yr(n,t){const a=W(t,["children","$$slots","$$events","$$legacy"]),s=W(a,["asChild","el"]);et(t,!1);const d=()=>ot(v,"$viewport",f),[f,u]=st(),o=O(),e=O();let i=X(t,"asChild",8,!1),l=X(t,"el",28,()=>{});const{elements:{viewport:v},getAttrs:g}=Et(),b=g("viewport");L(()=>Q(s),()=>{w(o,{...s,...b})}),L(()=>d(),()=>{w(e,d())}),L(()=>(r(e),r(o)),()=>{Object.assign(r(e),r(o))}),ut(),nt();var S=z(),T=H(S);{var R=h=>{var c=z(),C=H(c);I(C,t,"default",{get builder(){return r(e)}},null),_(h,c)},x=h=>{var c=kr();ht(c,()=>({...r(e)}));var C=p(c);I(C,t,"default",{get builder(){return r(e)}},null),m(c),gt(c,$=>r(e).action?.($)),bt(c,$=>l($),()=>l()),_(h,c)};Z(T,h=>{i()?h(R):h(x,!1)})}_(n,S),rt(),u()}var Xr=M("<div><!></div>");function Ir(n,t){const a=W(t,["children","$$slots","$$events","$$legacy"]),s=W(a,["asChild","el"]);et(t,!1);const d=()=>ot(v,"$content",f),[f,u]=st(),o=O(),e=O();let i=X(t,"asChild",8,!1),l=X(t,"el",28,()=>{});const{elements:{content:v},getAttrs:g}=Et(),b=g("content");L(()=>Q(s),()=>{w(o,{...s,...b})}),L(()=>d(),()=>{w(e,d())}),L(()=>(r(e),r(o)),()=>{Object.assign(r(e),r(o))}),ut(),nt();var S=z(),T=H(S);{var R=h=>{var c=z(),C=H(c);I(C,t,"default",{get builder(){return r(e)}},null),_(h,c)},x=h=>{var c=Xr();ht(c,()=>({...r(e)}));var C=p(c);I(C,t,"default",{get builder(){return r(e)}},null),m(c),gt(c,$=>r(e).action?.($)),bt(c,$=>l($),()=>l()),_(h,c)};Z(T,h=>{i()?h(R):h(x,!1)})}_(n,S),rt(),u()}var Mr=M("<div><!></div>");function Wr(n,t){const a=W(t,["children","$$slots","$$events","$$legacy"]),s=W(a,["asChild","el"]);et(t,!1);const d=()=>ot(v,"$scrollbarY",f),[f,u]=st(),o=O(),e=O();let i=X(t,"asChild",8,!1),l=X(t,"el",28,()=>{});const{elements:{scrollbarY:v},getAttrs:g}=Et(),b=g("scrollbar-y");L(()=>Q(s),()=>{w(o,{...s,...b})}),L(()=>d(),()=>{w(e,d())}),L(()=>(r(e),r(o)),()=>{Object.assign(r(e),r(o))}),ut(),nt();var S=z(),T=H(S);{var R=h=>{var c=z(),C=H(c);I(C,t,"default",{get builder(){return r(e)}},null),_(h,c)},x=h=>{var c=Mr();ht(c,()=>({...r(e)}));var C=p(c);I(C,t,"default",{get builder(){return r(e)}},null),m(c),gt(c,$=>r(e).action?.($)),bt(c,$=>l($),()=>l()),_(h,c)};Z(T,h=>{i()?h(R):h(x,!1)})}_(n,S),rt(),u()}var Br=M("<div><!></div>");function Ur(n,t){const a=W(t,["children","$$slots","$$events","$$legacy"]),s=W(a,["asChild","el"]);et(t,!1);const d=()=>ot(v,"$scrollbarX",f),[f,u]=st(),o=O(),e=O();let i=X(t,"asChild",8,!1),l=X(t,"el",28,()=>{});const{elements:{scrollbarX:v},getAttrs:g}=Et(),b=g("scrollbar-x");L(()=>Q(s),()=>{w(o,{...s,...b})}),L(()=>d(),()=>{w(e,d())}),L(()=>(r(e),r(o)),()=>{Object.assign(r(e),r(o))}),ut(),nt();var S=z(),T=H(S);{var R=h=>{var c=z(),C=H(c);I(C,t,"default",{get builder(){return r(e)}},null),_(h,c)},x=h=>{var c=Br();ht(c,()=>({...r(e)}));var C=p(c);I(C,t,"default",{get builder(){return r(e)}},null),m(c),gt(c,$=>r(e).action?.($)),bt(c,$=>l($),()=>l()),_(h,c)};Z(T,h=>{i()?h(R):h(x,!1)})}_(n,S),rt(),u()}function Fr(n,t){const a=W(t,["children","$$slots","$$events","$$legacy"]),s=W(a,["orientation"]);et(t,!1);const d=()=>ot(e,"$orientationStore",f),[f,u]=st();let o=X(t,"orientation",8);const e=_e(o());Dr(e),L(()=>Q(o()),()=>{e.set(o())}),ut(),nt();var i=z(),l=H(i);{var v=b=>{Wr(b,Kt(()=>s,{children:Zt,$$slots:{default:(S,T)=>{const R=Yt(()=>T.builder);var x=z(),h=H(x);I(h,t,"default",{get builder(){return r(R)}},null),_(S,x)}}}))},g=b=>{Ur(b,Kt(()=>s,{children:Zt,$$slots:{default:(S,T)=>{const R=Yt(()=>T.builder);var x=z(),h=H(x);I(h,t,"default",{get builder(){return r(R)}},null),_(S,x)}}}))};Z(l,b=>{d()==="vertical"?b(v):b(g,!1)})}_(n,i),rt(),u()}var jr=M("<div><!></div>");function Vr(n,t){const a=W(t,["children","$$slots","$$events","$$legacy"]),s=W(a,["asChild","el"]);et(t,!1);const d=()=>ot(v,"$thumbY",f),[f,u]=st(),o=O(),e=O();let i=X(t,"asChild",8,!1),l=X(t,"el",28,()=>{});const{elements:{thumbY:v},getAttrs:g}=Et(),b=g("thumb-y");L(()=>Q(s),()=>{w(o,{...s,...b})}),L(()=>d(),()=>{w(e,d())}),L(()=>(r(e),r(o)),()=>{Object.assign(r(e),r(o))}),ut(),nt();var S=z(),T=H(S);{var R=h=>{var c=z(),C=H(c);I(C,t,"default",{get builder(){return r(e)}},null),_(h,c)},x=h=>{var c=jr();ht(c,()=>({...r(e)}));var C=p(c);I(C,t,"default",{get builder(){return r(e)}},null),m(c),gt(c,$=>r(e).action?.($)),bt(c,$=>l($),()=>l()),_(h,c)};Z(T,h=>{i()?h(R):h(x,!1)})}_(n,S),rt(),u()}var qr=M("<div><!></div>");function Jr(n,t){const a=W(t,["children","$$slots","$$events","$$legacy"]),s=W(a,["asChild","el"]);et(t,!1);const d=()=>ot(v,"$thumbX",f),[f,u]=st(),o=O(),e=O();let i=X(t,"asChild",8,!1),l=X(t,"el",28,()=>{});const{elements:{thumbX:v},getAttrs:g}=Et(),b=g("thumb-x");L(()=>Q(s),()=>{w(o,{...s,...b})}),L(()=>d(),()=>{w(e,d())}),L(()=>(r(e),r(o)),()=>{Object.assign(r(e),r(o))}),ut(),nt();var S=z(),T=H(S);{var R=h=>{var c=z(),C=H(c);I(C,t,"default",{get builder(){return r(e)}},null),_(h,c)},x=h=>{var c=qr();ht(c,()=>({...r(e)}));var C=p(c);I(C,t,"default",{get builder(){return r(e)}},null),m(c),gt(c,$=>r(e).action?.($)),bt(c,$=>l($),()=>l()),_(h,c)};Z(T,h=>{i()?h(R):h(x,!1)})}_(n,S),rt(),u()}function Gr(n,t){const a=W(t,["children","$$slots","$$events","$$legacy"]),s=W(a,[]);et(t,!1);const d=()=>ot(o,"$orientation",f),[f,u]=st(),o=Hr();nt();var e=z(),i=H(e);{var l=g=>{Vr(g,Kt(()=>s,{children:Zt,$$slots:{default:(b,S)=>{const T=Yt(()=>S.builder);var R=z(),x=H(R);I(x,t,"default",{get builder(){return r(T)}},null),_(b,R)}}}))},v=g=>{Jr(g,Kt(()=>s,{children:Zt,$$slots:{default:(b,S)=>{const T=Yt(()=>S.builder);var R=z(),x=H(R);I(x,t,"default",{get builder(){return r(T)}},null),_(b,R)}}}))};Z(i,g=>{d()==="vertical"?g(l):g(v,!1)})}_(n,e),rt(),u()}var Zr=M("<div><!></div>");function Kr(n,t){const a=W(t,["children","$$slots","$$events","$$legacy"]),s=W(a,["asChild","el"]);et(t,!1);const d=()=>ot(v,"$corner",f),[f,u]=st(),o=O(),e=O();let i=X(t,"asChild",8,!1),l=X(t,"el",28,()=>{});const{elements:{corner:v},getAttrs:g}=Et(),b=g("corner");L(()=>Q(s),()=>{w(o,{...s,...b})}),L(()=>d(),()=>{w(e,d())}),L(()=>(r(e),r(o)),()=>{Object.assign(r(e),r(o))}),ut(),nt();var S=z(),T=H(S);{var R=h=>{var c=z(),C=H(c);I(C,t,"default",{get builder(){return r(e)}},null),_(h,c)},x=h=>{var c=Zr();ht(c,()=>({...r(e)}));var C=p(c);I(C,t,"default",{get builder(){return r(e)}},null),m(c),gt(c,$=>r(e).action?.($)),bt(c,$=>l($),()=>l()),_(h,c)};Z(T,h=>{i()?h(R):h(x,!1)})}_(n,S),rt(),u()}var Qr=M("<!> <!> <!>",1);function tn(n,t){et(t,!1);let a=X(t,"className",8,"");nt();{let s=Yt(()=>(Q(a()),ar(()=>`ui-scroll-area ${a()}`.trim())));Nr(n,{get class(){return r(s)},children:(d,f)=>{var u=Qr(),o=H(u);Yr(o,{class:"ui-scroll-viewport",children:(l,v)=>{Ir(l,{children:(g,b)=>{var S=z(),T=H(S);I(T,t,"default",{},null),_(g,S)},$$slots:{default:!0}})},$$slots:{default:!0}});var e=y(o,2);Fr(e,{orientation:"vertical",class:"ui-scrollbar",children:(l,v)=>{Gr(l,{class:"ui-scroll-thumb"})},$$slots:{default:!0}});var i=y(e,2);Kr(i,{}),_(d,u)},$$slots:{default:!0}})}rt()}var en=M('<p class="muted">Loading…</p>'),rn=M('<p class="muted">No token data in this range.</p>'),nn=M("<tr><td> </td><td> </td></tr>"),ln=M('<table><thead><tr><th scope="col">Day</th><th scope="col">Total Tokens</th></tr></thead><tbody></tbody></table>'),an=M("<p><strong> </strong> </p>"),on=M("<p><strong> </strong> </p>"),sn=M('<p class="muted">No logs available for this filter.</p>'),cn=M("<tr><td> </td><td> </td><td> </td><td> </td><td> </td></tr>"),dn=M('<table><thead><tr><th scope="col">Type</th><th scope="col">Name</th><th scope="col">Created</th><th scope="col">Summary</th><th scope="col">Error</th></tr></thead><tbody></tbody></table>'),un=M('<section class="panel analytics-controls"><div><h3>Range</h3> <!></div> <div class="inline"><!> <p class="muted"> </p></div></section> <div class="stat-grid analytics-stats"><article class="panel stat-card"><h3>Tokens</h3> <p class="stat-value"> </p> <p class="muted">Range total</p></article> <article class="panel stat-card"><h3>Errors</h3> <p class="stat-value"> </p> <p class="muted">Logged errors</p></article> <article class="panel stat-card"><h3>Tool Events</h3> <p class="stat-value"> </p> <p class="muted">In selected range</p></article> <article class="panel stat-card"><h3>Cron Runs</h3> <p class="stat-value"> </p> <p class="muted">In selected range</p></article> <article class="panel stat-card"><h3>Heartbeat Runs</h3> <p class="stat-value"> </p> <p class="muted">In selected range</p></article></div> <section class="panel"><h3>Token Trend</h3> <!></section> <section class="panel"><h3>Health</h3> <div class="kv-grid"></div> <h3>Runtime Metrics</h3> <div class="kv-grid"></div></section> <section class="panel"><h3>Recent Events</h3> <div class="analytics-filter-grid"><div><label for="analytics-type">Type</label> <!></div> <div><label for="analytics-from">From</label> <input id="analytics-from" name="analytics_from" type="datetime-local"/></div> <div><label for="analytics-to">To</label> <input id="analytics-to" name="analytics_to" type="datetime-local"/></div> <div><label for="analytics-limit">Limit</label> <input id="analytics-limit" name="analytics_limit" type="number" min="1" max="5000"/></div></div> <div class="inline analytics-filter-actions"><!> <!></div> <!></section>',1),vn=M('<p class="error" aria-live="polite"> </p>'),fn=M('<section><header class="page-header"><p class="kicker">Observability</p> <h2>Analytics</h2> <p class="muted">System health, trends, and runtime events.</p></header> <!> <!></section>');function Cn(n,t){et(t,!1);const a=[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"}],s=[{value:"",label:"All Types"},{value:"tool",label:"Tool"},{value:"cron",label:"Cron"},{value:"heartbeat",label:"Heartbeat"}];let d=O(!0),f=O(!1),u=O(""),o=O("7d"),e=O(""),i=O(""),l=O(""),v=O(120),g=O({}),b=O(null),S=O([]);function T(A){const N=A.trim();if(!N)return"";const G=new Date(N);return Number.isNaN(G.getTime())?"":G.toISOString()}function R(A){return A.type==="tool"?A.name||"Tool":A.type==="cron"?A.jobId||"Cron Job":A.type==="heartbeat"?A.status||"Heartbeat":"Event"}async function x(){const A=new URLSearchParams;r(e)&&A.set("type",r(e)),r(v)>0&&A.set("limit",String(r(v)));const N=T(r(i)),G=T(r(l));N&&A.set("from",N),G&&A.set("to",G);const vt=A.toString()?`?${A.toString()}`:"",Ot=await Vt(`/api/manage/analytics/logs${vt}`);w(S,Ot.logs||[])}async function h(){w(d,!0),w(u,"");try{const[A,N]=await Promise.all([Vt("/api/manage/analytics/health"),Vt(`/api/manage/analytics/summary?range=${encodeURIComponent(r(o))}`)]);w(g,A),w(b,N),await x()}catch(A){w(u,Le(A))}finally{w(d,!1)}}async function c(){w(f,!0),w(u,"");try{w(b,await Vt(`/api/manage/analytics/summary?range=${encodeURIComponent(r(o))}`)),await x()}catch(A){w(u,Le(A))}finally{w(f,!1)}}async function C(){w(e,""),w(i,""),w(l,""),w(v,120),await c()}lr(async()=>{await h()}),nt();var $=fn(),At=y(p($),2);{var D=A=>{var N=en();_(A,N)},k=A=>{var N=un(),G=H(N),vt=p(G),Ot=y(p(vt),2);De(Ot,{id:"analytics-range",name:"analytics_range",get options(){return a},ariaLabel:"Analytics range",placeholder:"Select range…",get value(){return r(o)},set value(E){w(o,E)},$$legacy:!0}),m(vt);var pt=y(vt,2),Mt=p(pt);he(Mt,{type:"button",onclick:c,get disabled(){return r(f)},children:(E,j)=>{ft();var J=be("Refresh");_(E,J)},$$slots:{default:!0}});var Wt=y(Mt,2),Bt=p(Wt,!0);m(Wt),m(pt),m(G);var Dt=y(G,2),Ht=p(Dt),Ut=y(p(Ht),2),ee=p(Ut,!0);m(Ut),ft(2),m(Ht);var zt=y(Ht,2),Ft=y(p(zt),2),_t=p(Ft,!0);m(Ft),ft(2),m(zt);var Ct=y(zt,2),Tt=y(p(Ct),2),re=p(Tt,!0);m(Tt),ft(2),m(Ct);var Nt=y(Ct,2),P=y(p(Nt),2),U=p(P,!0);m(P),ft(2),m(Nt);var q=y(Nt,2),lt=y(p(q),2),Ie=p(lt,!0);m(lt),ft(2),m(q),m(Dt);var ne=y(Dt,2),Me=y(p(ne),2);{var We=E=>{var j=rn();_(E,j)},Be=E=>{var j=ln(),J=y(p(j));qt(J,5,()=>r(b).series,Jt,(it,ct)=>{var K=nn(),F=p(K),dt=p(F,!0);m(F);var at=y(F),yt=p(at,!0);m(at),m(K),xt(()=>{B(dt,r(ct).day),B(yt,r(ct).token_total)}),_(it,K)}),m(J),m(j),_(E,j)};Z(Me,E=>{!r(b)||!r(b).series||r(b).series.length===0?E(We):E(Be,!1)})}m(ne);var le=y(ne,2),ae=y(p(le),2);qt(ae,5,()=>Object.entries(r(g).status||{}),Jt,(E,j)=>{var J=Pe(()=>Re(r(j),2));let it=()=>r(J)[0],ct=()=>r(J)[1];var K=an(),F=p(K),dt=p(F,!0);m(F);var at=y(F);m(K),xt(yt=>{B(dt,it()),B(at,`: ${yt??""}`)},[()=>String(ct())]),_(E,K)}),m(ae);var Se=y(ae,4);qt(Se,5,()=>Object.entries(r(g).metrics||{}),Jt,(E,j)=>{var J=Pe(()=>Re(r(j),2));let it=()=>r(J)[0],ct=()=>r(J)[1];var K=on(),F=p(K),dt=p(F,!0);m(F);var at=y(F);m(K),xt(yt=>{B(dt,it()),B(at,`: ${yt??""}`)},[()=>String(ct())]),_(E,K)}),m(Se),m(le);var we=y(le,2),oe=y(p(we),2),se=p(oe),Ue=y(p(se),2);De(Ue,{id:"analytics-type",name:"analytics_type",get options(){return s},ariaLabel:"Event type",placeholder:"Filter type…",get value(){return r(e)},set value(E){w(e,E)},$$legacy:!0}),m(se);var ie=y(se,2),$e=y(p(ie),2);ge($e),m(ie);var ce=y(ie,2),Ee=y(p(ce),2);ge(Ee),m(ce);var Ae=y(ce,2),Ce=y(p(Ae),2);ge(Ce),m(Ae),m(oe);var de=y(oe,2),Te=p(de);he(Te,{type:"button",onclick:c,get disabled(){return r(f)},children:(E,j)=>{ft();var J=be("Apply Filters");_(E,J)},$$slots:{default:!0}});var Fe=y(Te,2);he(Fe,{type:"button",className:"ui-button-subtle",onclick:C,get disabled(){return r(f)},children:(E,j)=>{ft();var J=be("Reset");_(E,J)},$$slots:{default:!0}}),m(de);var je=y(de,2);{var Ve=E=>{var j=sn();_(E,j)},qe=E=>{tn(E,{className:"logs-scroll",children:(j,J)=>{var it=dn(),ct=y(p(it));qt(ct,5,()=>r(S),Jt,(K,F)=>{var dt=cn(),at=p(dt),yt=p(at,!0);m(at);var ue=y(at),Je=p(ue,!0);m(ue);var ve=y(ue),Ge=p(ve,!0);m(ve);var fe=y(ve),Ze=p(fe,!0);m(fe);var xe=y(fe),Ke=p(xe,!0);m(xe),m(dt),xt((Qe,tr,er,rr,nr)=>{B(yt,Qe),B(Je,tr),B(Ge,er),B(Ze,rr),B(Ke,nr)},[()=>String(r(F).type||""),()=>R(r(F)),()=>pe(r(F).createdAt||""),()=>String(r(F).summary||""),()=>String(r(F).error||"")]),_(K,dt)}),m(ct),m(it),_(j,it)},$$slots:{default:!0}})};Z(je,E=>{r(S).length===0?E(Ve):E(qe,!1)})}m(we),xt(E=>{B(Bt,E),B(ee,r(b)?.tokenTotal??0),B(_t,r(b)?.totals?.errors??0),B(re,r(b)?.totals?.tool_events??0),B(U,r(b)?.totals?.cron_runs??0),B(Ie,r(b)?.totals?.heartbeat_runs??0)},[()=>r(b)?`${pe(r(b).from)} to ${pe(r(b).to)}`:"No range loaded."]),me($e,()=>r(i),E=>w(i,E)),me(Ee,()=>r(l),E=>w(l,E)),me(Ce,()=>r(v),E=>w(v,E)),_(A,N)};Z(At,A=>{r(d)?A(D):A(k,!1)})}var V=y(At,2);{var mt=A=>{var N=vn(),G=p(N,!0);m(N),xt(()=>B(G,r(u))),_(A,N)};Z(V,A=>{r(u)&&A(mt)})}m($),_(n,$),rt()}export{Cn as component};
