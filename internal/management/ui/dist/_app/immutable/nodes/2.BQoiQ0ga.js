import{c as U,a as l,t as V,f}from"../chunks/BEu3xU8X.js";import"../chunks/BKxQFQd5.js";import{o as W}from"../chunks/Vc4QFieL.js";import{p as X,f as B,a as Y,g as e,b as m,m as N,s as c,c as n,r,n as Z,t as P}from"../chunks/BTMJvSec.js";import{s as g}from"../chunks/Bcgy8Ni5.js";import{i as A,s as aa,a as sa}from"../chunks/CcCxq7f-.js";import{f as H,p as L,e as ta,B as ea,s as O,a as ra,i as oa}from"../chunks/C6q300kx.js";import{s as ia}from"../chunks/Ca1YuPdp.js";import{i as na}from"../chunks/DlHN4S8Y.js";import{s as la,g as _}from"../chunks/D9L8ZV2M.js";const ca=()=>{const o=la;return{page:{subscribe:o.page.subscribe},navigating:{subscribe:o.navigating.subscribe},updated:o.updated}},pa={subscribe(o){return ca().page.subscribe(o)}};var ua=f('<main class="loading-shell"><p class="kicker">Mission Control</p> <p class="muted">Loading sessionâ€¦</p></main>'),ma=f('<a><span aria-hidden="true"> </span> <span> </span></a>'),fa=f('<p class="error" aria-live="polite"> </p>'),va=f('<a class="skip-link" href="#main-content">Skip to Main Content</a> <div class="shell"><aside class="sidebar"><div class="sidebar-header"><p class="kicker">Squidbot</p> <h1>Mission Control</h1></div> <nav aria-label="Primary"></nav> <!> <!></aside> <main id="main-content" class="content"><!></main></div>',1);function $a(o,v){X(v,!1);const y=()=>sa(pa,"$page",T),[T,q]=aa();let k=N(!0),p=N("");const E=[{href:"/app/mission-control",label:"Mission Control",icon:"MC"},{href:"/app/heartbeat",label:"Heartbeat",icon:"HB"},{href:"/app/memory",label:"Memory",icon:"MM"},{href:"/app/analytics",label:"Analytics",icon:"AN"},{href:"/app/settings",label:"Settings",icon:"ST"}];async function I(){try{const a=await H("/api/auth/session");if(!a.setupComplete){await _("/");return}if(!a.authenticated){await _("/");return}m(p,"")}catch(a){m(p,L(a))}finally{m(k,!1)}}async function J(){try{await H("/api/auth/logout",{method:"POST"}),await _("/")}catch(a){m(p,L(a))}}W(async()=>{await I()}),na();var x=U(),j=B(x);{var z=a=>{var u=ua();l(a,u)},D=a=>{var u=va(),M=c(B(u),2),d=n(M),h=c(n(d),2);ta(h,5,()=>E,oa,(i,s)=>{var t=ma();let w;var b=n(t),Q=n(b,!0);r(b);var C=c(b,2),R=n(C,!0);r(C),r(t),P(()=>{O(t,"href",e(s).href),O(t,"aria-current",y().url.pathname===e(s).href?"page":void 0),w=ra(t,1,"",null,w,{active:y().url.pathname===e(s).href}),g(Q,e(s).icon),g(R,e(s).label)}),l(i,t)}),r(h);var S=c(h,2);ea(S,{type:"button",className:"logout",onclick:J,children:(i,s)=>{Z();var t=V("Logout");l(i,t)},$$slots:{default:!0}});var F=c(S,2);{var G=i=>{var s=fa(),t=n(s,!0);r(s),P(()=>g(t,e(p))),l(i,s)};A(F,i=>{e(p)&&i(G)})}r(d);var $=c(d,2),K=n($);ia(K,v,"default",{},null),r($),r(M),l(a,u)};A(j,a=>{e(k)?a(z):a(D,!1)})}l(o,x),Y(),q()}export{$a as component};
