import{o as A,I as y,J as P,K as O,x as Q,L as W,g as L,M as Z,N as G,O as V,P as F,Q as M,R as j,S as ee,T as Y,j as re,U as z,V as ne,W as ae,e as fe,X as ie,Y as q,Z as le,_ as B,$ as se,a0 as ue,m as te,a1 as C,a2 as U,a3 as X,a4 as H,a5 as oe,a6 as ve,a7 as ce,a8 as de}from"./Cz4rleU9.js";function Ee(e,i){return i}function pe(e,i,f){for(var v=[],h=i.length,s,l=i.length,n=0;n<h;n++){let u=i[n];X(u,()=>{if(s){if(s.pending.delete(u),s.done.add(u),s.pending.size===0){var d=e.outrogroups;D(q(s.done)),d.delete(s),d.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var t=v.length===0&&f!==null;if(t){var a=f,o=a.parentNode;ve(o),o.append(a),e.items.clear()}D(i,!t)}else s={pending:new Set(i),done:new Set},(e.outrogroups??=new Set).add(s)}function D(e,i=!0){for(var f=0;f<e.length;f++)ce(e[f],i)}var J;function we(e,i,f,v,h,s=null){var l=e,n=new Map;{var t=e;l=A?y(P(t)):t.appendChild(O())}A&&Q();var a=null,o=fe(()=>{var c=f();return ie(c)?c:c==null?[]:q(c)}),u,d=!0;function I(){_.fallback=a,he(_,u,l,i,v),a!==null&&(u.length===0?(a.f&C)===0?U(a):(a.f^=C,k(a,null,l)):X(a,()=>{a=null}))}var r=W(()=>{u=L(o);var c=u.length;let w=!1;if(A){var g=Z(l)===G;g!==(c===0)&&(l=V(),y(l),F(!1),w=!0)}for(var x=new Set,T=re,R=ae(),m=0;m<c;m+=1){A&&M.nodeType===j&&M.data===ee&&(l=M,w=!0,F(!1));var S=u[m],p=v(S,m),E=d?null:n.get(p);E?(E.v&&Y(E.v,S),E.i&&Y(E.i,m),R&&T.unskip_effect(E.e)):(E=ge(n,d?l:J??=O(),S,p,m,h,i,f),d||(E.e.f|=C),n.set(p,E)),x.add(p)}if(c===0&&s&&!a&&(d?a=z(()=>s(l)):(a=z(()=>s(J??=O())),a.f|=C)),c>x.size&&ne(),A&&c>0&&y(V()),!d)if(R){for(const[$,K]of n)x.has($)||T.skip_effect(K.e);T.oncommit(I),T.ondiscard(()=>{})}else I();w&&F(!0),L(o)}),_={effect:r,items:n,outrogroups:null,fallback:a};d=!1,A&&(l=M)}function b(e){for(;e!==null&&(e.f&oe)===0;)e=e.next;return e}function he(e,i,f,v,h){var s=i.length,l=e.items,n=b(e.effect.first),t,a=null,o=[],u=[],d,I,r,_;for(_=0;_<s;_+=1){if(d=i[_],I=h(d,_),r=l.get(I).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(r),p.done.delete(r);if((r.f&C)!==0)if(r.f^=C,r===n)k(r,null,f);else{var c=a?a.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),N(e,a,r),N(e,r,c),k(r,c,f),a=r,o=[],u=[],n=b(a.next);continue}if((r.f&H)!==0&&U(r),r!==n){if(t!==void 0&&t.has(r)){if(o.length<u.length){var w=u[0],g;a=w.prev;var x=o[0],T=o[o.length-1];for(g=0;g<o.length;g+=1)k(o[g],w,f);for(g=0;g<u.length;g+=1)t.delete(u[g]);N(e,x.prev,T.next),N(e,a,x),N(e,T,w),n=w,a=T,_-=1,o=[],u=[]}else t.delete(r),k(r,n,f),N(e,r.prev,r.next),N(e,r,a===null?e.effect.first:a.next),N(e,a,r),a=r;continue}for(o=[],u=[];n!==null&&n!==r;)(t??=new Set).add(n),u.push(n),n=b(n.next);if(n===null)continue}(r.f&C)===0&&o.push(r),a=r,n=b(r.next)}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(D(q(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||t!==void 0){var R=[];if(t!==void 0)for(r of t)(r.f&H)===0&&R.push(r);for(;n!==null;)(n.f&H)===0&&n!==e.fallback&&R.push(n),n=b(n.next);var m=R.length;if(m>0){var S=s===0?f:null;pe(e,R,S)}}}function ge(e,i,f,v,h,s,l,n){var t=(l&se)!==0?(l&ue)===0?te(f,!1,!1):B(f):null,a=(l&le)!==0?B(h):null;return{v:t,i:a,e:z(()=>(s(i,t??f,a??h,n),()=>{e.delete(v)}))}}function k(e,i,f){if(e.nodes)for(var v=e.nodes.start,h=e.nodes.end,s=i&&(i.f&C)===0?i.nodes.start:f;v!==null;){var l=de(v);if(s.before(v),v===h)return;v=l}}function N(e,i,f){i===null?e.effect.first=f:i.next=f,f===null?e.effect.last=i:f.prev=i}async function Te(e,i){const f=await fetch(e,i);if(!f.ok){const v=await f.text();throw new Error(v||`Request failed (${f.status})`)}return await f.json()}function me(e){return e instanceof Error?e.message:typeof e=="string"?e:"Request failed"}export{we as e,Te as f,Ee as i,me as p};
